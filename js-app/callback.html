<!DOCTYPE html>
<html>

<body>

    <script>

        (function () {
            function getData(callback) {
                console.log("Getting data");
                console.log("Taking some data");
                var r = Math.random(10)*10;
                if (r >= 5) {
                    callback({
                        result: "success" + r

                    });
                }
                else {
                    callback({
                        error: "Number generated less than 5" 

                    });

                }
            }
            getData(handleResponseData);

            function handleResponseData(data){
                console.log("Display data in view")
                if(data.error){
                    console.log("error "+data.error); 
                }
                else{
                    console.log("result found "+data.result);
                }
             
            }
            

        })();
    </script>
    </bod>

</html>